<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>User Profile</title>
  <link rel="shortcut icon" href="/images/logo/favicon.ico" type="image/x-icon">
  <script src="https://kit.fontawesome.com/b77bca94fb.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="css/profile.css">
  <link rel="stylesheet" href="css/navbar.css">
  <link rel="stylesheet" href="css/footer.css">
  <link rel="stylesheet" href="css/newsletter.css">

</head>
<body>
  <%- include("partials/loader") %>
    <% if(!isLoggedIn){ %>
        <div class="login-message">
          <h2>üîí Access Restricted</h2>
          <p>Please <a href="/login">login in</a> to view your cart.</p>
        </div>
        <% } else{  %>
        <div id="warning-box" class="warning-container" style="display: none;">
            <div class="warning-message">‚ö†Ô∏è Something went wrong</div>
            <div class="warning-close" onclick="closeWarning()">‚úñ</div>
        </div>

    <%- include('partials/navbar') %>
 <main class="main">
    <div class="profile-card">
        <!-- Header -->
        <div class="profile-header">
          <div class="profile-image-container" id="profileImageContainer">
            <div><%- user.name[0] %></div>
          </div>
          <div class="user-info">
            <h1 id="userName"><%- user.name %></h1>
            <p id="userEmail"><%- user.email %></p>
          </div>
        </div>
    
        <hr/>
    
        <!-- Form -->
        <form id="profileForm" class="profile-form">
          <div class="form-group full-width">
            <label>Full Name</label>
            <input type="text" name="fullName" value="<%- user.name %>" required readonly>
          </div>
          <div class="form-group">
            <label>Email</label>
            <input type="email" name="email" value="<%- user.email %>"  readonly>
          </div>
          <div class="form-group">
            <label>Phone</label>
            <input type="tel" name="phone_number" value="<%- user.phone_number || '' %>" required readonly>
          </div>
          <div class="form-group full-width">
            <label>Street Address</label>
            <input type="text" name="street_address" value="<%- user.street_address || '' %>" required readonly>
          </div>
          <div class="form-group">
            <label>City</label>
            <input type="text" name="city" value="<%- user.city || '' %>" required readonly>
          </div>
          <div class="form-group">
            <label for="">State</label>
            <input type="text" name="state" value="<%- user.state || '' %>" required readonly>
          </div>
          <div class="form-group">
            <label>Country</label>
            <input type="text" name="country" value="<%- user.country || '' %>" required readonly>
          </div>
          <div class="form-group">
            <label>Postal/Zip Code</label>
            <input type="text" name="zip_code" value="<%- user.zip_code || '' %>" required readonly>
          </div>
    
          <div class="form-actions">
            <button type="button" class="btn btn-cancel hidden" id="cancelBtn">Cancel</button>
            <button type="submit" class="btn btn-save hidden" id="saveBtn">Save</button>
            <button type="button" class="btn btn-edit" id="editBtn">Edit Profile</button>
          </div>
        </form>
      </div>
 </main>
<script src="js/profile.js"></script>
<script src="js/navbar.js"></script>
<% } %>
</body>
</html>
